{
  "workflow": [
    {
      "service": "validation",
      "url": "${VALIDATION_URL}",
      "endpoint": "/validate",
      "params": {
        "include_error_types": "error"
      }
    },
    {
      "service": "convert_to_fhir",
      "url": "${FHIR_CONVERTER_URL}",
      "endpoint": "/convert-to-fhir"
    },
    {
      "service": "ingestion",
      "url": "${INGESTION_URL}",
      "endpoint": "/fhir/harmonization/standardization/standardize_names",
      "params": {
        "overwrite": true
      }
    },
    {
      "service": "ingestion",
      "url": "${INGESTION_URL}",
      "endpoint": "/fhir/harmonization/standardization/standardize_dob",
      "params": {
        "overwrite": true,
        "dob_format": ""
      }
    },
    {
      "service": "ingestion",
      "url": "${INGESTION_URL}",
      "endpoint": "/fhir/harmonization/standardization/standardize_phones",
      "params": {
        "overwrite": true
      }
    },
    {
      "service": "message_parser",
      "url": "${MESSAGE_PARSER_URL}",
      "endpoint": "/parse_message",
      "params": {
        "message_format": "fhir",
        "parsing_schema_name": "ecr.json",
        "credential_manager": "azure"
      }
    },
    {
      "service": "save_to_db",
      "url": "${DATABASE_URL}",
      "endpoint": ""
    }
  ]
}
